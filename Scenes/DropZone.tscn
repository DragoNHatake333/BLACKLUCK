[gd_scene load_steps=4 format=3 uid="uid://xv1u5r2hrwpw"]

[ext_resource type="Texture2D" uid="uid://dasdbah8n4sl5" path="res://Cards/2_of_clubs.png" id="1_wb5sp"]

[sub_resource type="GDScript" id="GDScript_wb5sp"]
script/source = "extends Area2D
class_name DropZone

@export var hand_index := 1
@export var is_player_zone := true

var occupied := false
var occupying_card: Area2D = null

func _on_area_entered(area: Area2D) -> void:
	if area.name.begins_with(\"Card\"):
		_clear_existing_slot(area.name)
		Globals.playerHand[hand_index][\"card\"] = area.name
		occupying_card = area

func _on_area_exited(area: Area2D) -> void:
	if area == occupying_card:
		if Globals.playerHand[hand_index][\"card\"] == area.name:
			Globals.playerHand[hand_index][\"card\"] = \"\"
		occupying_card = null

func _clear_existing_slot(card_name: String):
	for i in Globals.playerHand.keys():
		if Globals.playerHand[i][\"card\"] == card_name:
			Globals.playerHand[i][\"card\"] = \"\"
"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ohmfm"]
radius = 43.0
height = 86.0

[node name="DropZone" type="Area2D" groups=["drop_zone"]]
collision_layer = 2
script = SubResource("GDScript_wb5sp")

[node name="2OfClubs" type="Sprite2D" parent="."]
visible = false
texture = ExtResource("1_wb5sp")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_ohmfm")
debug_color = Color(0.92745, 0.127409, 0.586844, 0.42)
